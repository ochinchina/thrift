apply plugin: 'java'
apply plugin: 'maven-publish'

repositories {
    mavenCentral()
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
    }
    test {
        java {
            srcDir 'test'
        }
    }
}


dependencies {
    compile(
            "commons-lang:commons-lang:2.6",
            "org.slf4j:slf4j-api:1.7.26",
            "io.netty:netty-all:4.1.34.Final",
            "javax.servlet:servlet-api:2.5",
            "org.apache.httpcomponents:httpcore:4.4.11",
            "org.apache.httpcomponents:httpclient:4.5.8",
    )

    testCompile(
            'junit:junit:4.12',
            'org.hamcrest:java-hamcrest:2.0.0.0',
    )

}


task sourceJar(type: Jar) {
    from sourceSets.main.allJava
    classifier "sources"
}



version = '0.8.6'

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
            artifact sourceJar
            groupId 'org.apache.thrift'
            artifactId 'thrift'
        }
    }
}
